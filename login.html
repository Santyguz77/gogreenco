<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="theme-color" content="#2D5A27">
	<link rel="manifest" href="/manifest.json">
	<link rel="icon" type="image/png" href="/icon-192.png">
	<link rel="apple-touch-icon" href="/icon-192.png">
	<title>Go Green - Login</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet"/>
	<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
	<script>
		tailwind.config = {
			darkMode: "class",
			theme: {
				extend: {
					colors: {
						primary: "#2D5A27",
						"primary-hover": "#234d32",
						accent: "#D98E73",
						"background-light": "#F8F9F5",
						"surface-light": "#FFFFFF",
						"input-light": "#F3F4F6",
					},
					fontFamily: {
						sans: ["'Inter'", "sans-serif"],
					},
					borderRadius: {
						DEFAULT: "0.75rem",
						'xl': '1rem',
						'2xl': '1.5rem',
						'3xl': '2rem',
					},
					boxShadow: {
						'soft': '0 10px 40px -10px rgba(45, 90, 39, 0.15)',
					}
				},
			},
		};
	</script>
	<style>
		body { transition: background-color 0.3s ease, color 0.3s ease; }
		.animate-fade-in { animation: fadeIn 0.6s ease-out; }
		@keyframes fadeIn {
			from { opacity: 0; transform: translateY(20px); }
			to { opacity: 1; transform: translateY(0); }
		}
	</style>
</head>
<body class="bg-background-light min-h-screen flex items-center justify-center font-sans antialiased text-gray-800 relative overflow-hidden">
	<!-- Decorative blobs -->
	<div class="absolute top-[-10%] left-[-10%] w-96 h-96 bg-primary/10 rounded-full blur-3xl pointer-events-none"></div>
	<div class="absolute bottom-[-10%] right-[-10%] w-80 h-80 bg-accent/20 rounded-full blur-3xl pointer-events-none"></div>
	
	<main class="w-full max-w-md px-6 py-8 flex flex-col items-center z-10 animate-fade-in">
		<!-- Logo y Branding -->
		<div class="flex flex-col items-center mb-10 text-center">
			<div class="relative w-24 h-24 mb-4 rounded-full bg-white shadow-lg flex items-center justify-center overflow-hidden border-4 border-primary/20" style="padding: 4px;">
				<img src="image.png" alt="Go Green Logo" class="w-full h-full object-cover rounded-full">
			</div>
			<h1 class="text-4xl font-bold text-primary mb-1 tracking-tight">
				Go Green
			</h1>
			<p class="text-sm uppercase tracking-[0.2em] text-gray-500 font-medium">
				Moda Circular
			</p>
		</div>
		
		<!-- Card de Login -->
		<div class="w-full bg-surface-light rounded-3xl shadow-soft p-8 transform transition-all hover:shadow-xl">
			<div class="flex items-center justify-center gap-2 mb-8 text-gray-700">
				<span class="material-icons-round text-primary">admin_panel_settings</span>
				<h2 class="text-lg font-bold">Acceso Administrativo</h2>
			</div>
			
			<!-- Mensaje de error -->
			<div id="error-message" class="hidden mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-xl">
				<div class="flex items-center gap-2">
					<span class="material-icons-round text-sm">error</span>
					<span id="error-text" class="text-sm font-semibold"></span>
				</div>
			</div>
			
			<form id="login-form" onsubmit="handleLogin(event)" class="space-y-5">
				<div class="space-y-1.5">
					<label class="block text-xs font-bold uppercase tracking-wider text-gray-500 ml-1" for="username">
						Usuario
					</label>
					<div class="relative group">
						<input 
							class="w-full bg-input-light text-gray-900 rounded-xl px-4 py-3.5 border-none focus:ring-2 focus:ring-primary transition-all placeholder-gray-400" 
							id="username" 
							name="username" 
							placeholder="Ingrese su usuario" 
							type="text"
							required
							autocomplete="username"/>
						<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 group-focus-within:text-primary transition-colors">
							<span class="material-icons-round text-sm">person</span>
						</div>
					</div>
				</div>
				
				<div class="space-y-1.5">
					<label class="block text-xs font-bold uppercase tracking-wider text-gray-500 ml-1" for="password">
						Contraseña
					</label>
					<div class="relative group">
						<input 
							class="w-full bg-input-light text-gray-900 rounded-xl px-4 py-3.5 border-none focus:ring-2 focus:ring-primary transition-all placeholder-gray-400" 
							id="password" 
							name="password" 
							placeholder="••••••••" 
							type="password"
							required
							autocomplete="current-password"/>
						<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 group-focus-within:text-primary transition-colors">
							<span class="material-icons-round text-sm">lock</span>
						</div>
					</div>
				</div>
				
				<div class="pt-2"></div>
				
				<button 
					class="w-full bg-primary hover:bg-primary-hover text-white font-semibold py-4 rounded-xl shadow-lg shadow-primary/30 flex items-center justify-center gap-2 transition-all transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" 
					type="submit"
					id="login-btn">
					<span class="material-icons-round text-lg">lock_open</span>
					<span>Iniciar Sesión</span>
				</button>
			</form>
			
			<div class="mt-8 pt-6 border-t border-gray-100 text-center">
				<a class="inline-flex items-center gap-2 text-primary hover:text-primary-hover font-medium text-sm transition-colors group" href="/catalogo.html">
					<span class="p-1.5 bg-primary/10 rounded-full group-hover:bg-primary/20 transition-colors">
						<span class="material-icons-round text-base align-middle">checkroom</span>
					</span>
					Ver Catálogo (sin iniciar sesión)
				</a>
			</div>
		</div>
		
		<footer class="mt-12 text-center opacity-60">
			<p class="text-xs text-gray-500">
				© 2026 Go Green. Todos los derechos reservados.
			</p>
		</footer>
	</main>

	<script>
		// Credenciales por defecto (en producción deberían estar en el backend)
		const credentials = {
			username: 'admin',
			password: 'admin123',
			redirect: '/index.html'
		};
		
		function showError(message) {
			const errorDiv = document.getElementById('error-message');
			const errorText = document.getElementById('error-text');
			errorText.textContent = message;
			errorDiv.classList.remove('hidden');
			
			// Auto-ocultar después de 4 segundos
			setTimeout(() => {
				errorDiv.classList.add('hidden');
			}, 4000);
		}
		
		function hideError() {
			document.getElementById('error-message').classList.add('hidden');
		}
		
		function handleLogin(event) {
			event.preventDefault();
			hideError();
			
			const username = document.getElementById('username').value;
			const password = document.getElementById('password').value;
			const btn = document.getElementById('login-btn');
			
			// Deshabilitar botón durante el proceso
			btn.disabled = true;
			btn.innerHTML = '<span class="material-icons-round text-lg animate-spin">sync</span><span>Verificando...</span>';
			
			// Simular delay de autenticación
			setTimeout(() => {
				if (username === credentials.username && password === credentials.password) {
					// Guardar sesión en localStorage
					localStorage.setItem('userSession', JSON.stringify({
						type: 'admin',
						username: username,
						loginTime: new Date().toISOString()
					}));
					
					// Mensaje de éxito
					btn.innerHTML = '<span class="material-icons-round text-lg">check_circle</span><span>¡Acceso concedido!</span>';
					btn.classList.add('bg-green-600');
					
					// Redirigir después de 800ms
					setTimeout(() => {
						window.location.href = credentials.redirect;
					}, 800);
				} else {
					showError('Usuario o contraseña incorrectos');
					btn.disabled = false;
					btn.innerHTML = '<span class="material-icons-round text-lg">lock_open</span><span>Iniciar Sesión</span>';
				}
			}, 600);
		}
		
		// Verificar si ya hay sesión activa
		window.addEventListener('load', () => {
			const session = localStorage.getItem('userSession');
			if (session) {
				const userData = JSON.parse(session);
				if (userData.type === 'admin') {
					// Si ya tiene sesión de admin, redirigir directamente
					// Descomentar la siguiente línea para auto-redirect
					// window.location.href = credentials.redirect;
				}
			}
		});
	</script>
</body>
</html>

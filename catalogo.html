<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="theme-color" content="#2E5C44"/>
    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" type="image/png" href="/image.png"/>
    <link rel="apple-touch-icon" href="/image.png"/>
    <link rel="stylesheet" href="styles.css"/>
    <title>Go Green - Catálogo</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#2E5C44",
                        secondary: "#D4A373",
                        "background-light": "#F5F2EA",
                        "background-dark": "#1A201D",
                        "card-light": "#FFFFFF",
                        "card-dark": "#2C3330",
                        "text-light": "#1F2937",
                        "text-dark": "#E5E7EB",
                    },
                    fontFamily: {
                        display: ["'Playfair Display'", "serif"],
                        sans: ["'Inter'", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "1rem",
                        xl: "1.5rem",
                        "2xl": "2rem",
                    },
                    boxShadow: {
                        soft: "0 10px 40px -10px rgba(0,0,0,0.08)",
                        float: "0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",
                    },
                },
            },
        };
    </script>
    <style>
        :root {
            --gg-primary: #2E5C44;
            --gg-secondary: #D4A373;
            --gg-accent: #2E5C44;
            --gg-accent-hover: #244735;
            --gg-soft-beige: #F5F2EA;
            --gg-card: #FFFFFF;
            --gg-card-dark: #2C3330;
            --gg-text: #1F2937;
            --gg-muted: #6B7280;
            --gg-danger: #C65D4D;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        body {
            min-height: max(884px, 100dvh);
        }

        .search-bar {
            max-width: 520px;
            margin: 0 auto;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 1rem 1.5rem;
            border-radius: 999px;
            border: 1px solid rgba(46, 92, 68, 0.12);
            background: rgba(255, 255, 255, 0.88);
            font-size: 1rem;
            box-shadow: 0 15px 30px -20px rgba(46, 92, 68, 0.6);
            transition: all 0.25s ease;
        }

        .search-bar.highlight input {
            border-color: rgba(46, 92, 68, 0.6);
            box-shadow: 0 22px 45px -22px rgba(46, 92, 68, 0.68);
            transform: translateY(-2px);
        }

        .search-bar input:focus {
            outline: none;
            border-color: rgba(46, 92, 68, 0.45);
            box-shadow: 0 20px 45px -22px rgba(46, 92, 68, 0.6);
            transform: translateY(-1px);
        }

        .category-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
            margin-top: 2.5rem;
        }

        .category-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.65rem 1.6rem;
            border-radius: 999px;
            border: 1px solid rgba(46, 92, 68, 0.18);
            background: rgba(46, 92, 68, 0.08);
            color: var(--gg-primary);
            font-size: 0.78rem;
            letter-spacing: 0.08em;
            font-weight: 700;
            text-transform: uppercase;
            transition: all 0.25s ease;
        }

        .category-btn:hover {
            background: rgba(46, 92, 68, 0.18);
            border-color: rgba(46, 92, 68, 0.32);
            transform: translateY(-2px);
            box-shadow: 0 18px 32px -24px rgba(46, 92, 68, 0.7);
        }

        .category-btn.active {
            background: linear-gradient(135deg, var(--gg-primary), var(--gg-accent-hover));
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 18px 35px -18px rgba(46, 92, 68, 0.75);
        }

        .new-products-section {
            position: relative;
            padding: 2.75rem 2.25rem;
            border-radius: 2rem;
            overflow: hidden;
            background: linear-gradient(140deg, rgba(46, 92, 68, 0.12), rgba(212, 163, 115, 0.18));
            box-shadow: 0 28px 60px -32px rgba(24, 32, 28, 0.65);
        }

        .new-products-section::before,
        .new-products-section::after {
            content: "";
            position: absolute;
            border-radius: 999px;
            filter: blur(45px);
            opacity: 0.45;
        }

        .new-products-section::before {
            width: 220px;
            height: 220px;
            top: -60px;
            right: -60px;
            background: rgba(46, 92, 68, 0.4);
        }

        .new-products-section::after {
            width: 260px;
            height: 260px;
            left: -90px;
            bottom: -110px;
            background: rgba(212, 163, 115, 0.4);
        }

        .new-products-header {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .new-products-header h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--gg-primary);
            font-weight: 700;
        }

        .new-badge-icon {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.45rem 1.1rem;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            background: rgba(255, 255, 255, 0.72);
            border: 1px solid rgba(46, 92, 68, 0.18);
            color: var(--gg-primary);
            animation: pulse 2.4s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .carousel-container {
            position: relative;
            overflow: hidden;
        }

        .carousel-track {
            display: flex;
            gap: 1.5rem;
            animation: scroll-horizontal 30s linear infinite;
            will-change: transform;
        }

        .carousel-track:hover {
            animation-play-state: paused;
        }

        @keyframes scroll-horizontal {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .carousel-item {
            flex: 0 0 260px;
            background: rgba(255, 255, 255, 0.92);
            border-radius: 1.5rem;
            box-shadow: 0 18px 45px -28px rgba(15, 22, 18, 0.8);
            overflow: hidden;
            transition: transform 0.35s ease, box-shadow 0.35s ease;
        }

        .carousel-item:hover {
            transform: translateY(-6px);
            box-shadow: 0 26px 70px -34px rgba(24, 32, 28, 0.9);
        }

        .carousel-item-image {
            position: relative;
            height: 220px;
            overflow: hidden;
        }

        .carousel-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .carousel-item:hover .carousel-item-image img {
            transform: scale(1.08);
        }

        .carousel-item-badge {
            position: absolute;
            top: 14px;
            right: 14px;
            padding: 0.4rem 1rem;
            border-radius: 999px;
            font-size: 0.65rem;
            font-weight: 700;
            background: rgba(33, 41, 36, 0.68);
            color: #ffffff;
            letter-spacing: 0.12em;
        }

        .carousel-item-content {
            padding: 1.4rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .carousel-item-name {
            font-weight: 700;
            font-size: 1rem;
            color: var(--gg-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .carousel-item-price {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--gg-secondary);
        }

        .category-section {
            margin-top: 3.5rem;
        }

        .category-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--gg-primary);
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }

        .category-title::after {
            content: "";
            height: 3px;
            width: 64px;
            border-radius: 99px;
            background: linear-gradient(135deg, var(--gg-secondary), rgba(46, 92, 68, 0.6));
        }

        .products-grid {
            margin-top: 2rem;
            display: grid;
            gap: 1.75rem;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        }

        .product-item-card {
            position: relative;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.93);
            border-radius: 1.75rem;
            overflow: hidden;
            border: 1px solid rgba(46, 92, 68, 0.08);
            box-shadow: 0 24px 60px -40px rgba(10, 16, 14, 0.9);
            transition: transform 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease;
            cursor: pointer;
        }

        .product-item-card:hover {
            transform: translateY(-8px);
            border-color: rgba(46, 92, 68, 0.25);
            box-shadow: 0 30px 70px -38px rgba(14, 21, 18, 0.88);
        }

        .product-item-card:focus-visible {
            outline: 3px solid var(--gg-secondary);
            outline-offset: 4px;
        }

        .product-image-container {
            position: relative;
            height: 300px;
            background: linear-gradient(140deg, rgba(46, 92, 68, 0.08), rgba(212, 163, 115, 0.14));
            overflow: hidden;
        }

        .product-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .product-item-card:hover .product-image-container img {
            transform: scale(1.08);
        }

        .product-badge {
            position: absolute;
            top: 18px;
            right: 18px;
            padding: 0.45rem 1.2rem;
            border-radius: 999px;
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.12em;
            background: rgba(33, 41, 36, 0.72);
            color: #fff;
        }

        .product-item-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 1.75rem 1.75rem 1.5rem;
            flex: 1;
        }

        .product-item-name {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--gg-primary);
            line-height: 1.3;
        }

        .product-item-description {
            font-size: 0.95rem;
            color: var(--gg-muted);
            line-height: 1.6;
            min-height: 56px;
        }

        .product-item-footer {
            margin-top: auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-top: 1px solid rgba(46, 92, 68, 0.12);
            padding-top: 1rem;
        }

        .product-item-price {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--gg-primary);
        }

        .product-item-action {
            border: none;
            padding: 0.6rem 1.35rem;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            background: linear-gradient(135deg, var(--gg-primary), var(--gg-accent-hover));
            color: #ffffff;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            box-shadow: 0 12px 25px -18px rgba(46, 92, 68, 0.8);
        }

        .product-item-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 16px 32px -16px rgba(46, 92, 68, 0.78);
        }

        .not-available {
            opacity: 0.6;
        }

        .not-available::after {
            content: 'AGOTADO';
            position: absolute;
            top: 14px;
            left: 14px;
            padding: 0.35rem 1rem;
            border-radius: 999px;
            background: rgba(198, 93, 77, 0.92);
            color: #fff;
            font-size: 0.68rem;
            font-weight: 700;
            letter-spacing: 0.15em;
        }

        .not-available-badge {
            display: inline-flex;
            align-items: center;
            margin-left: 0.75rem;
            padding: 0.25rem 0.65rem;
            border-radius: 0.75rem;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            background: rgba(198, 93, 77, 0.18);
            color: #8f3e31;
        }

        .empty-state {
            text-align: center;
            padding: 5rem 1.5rem;
            color: var(--gg-muted);
        }

        .empty-state-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            opacity: 0.6;
        }

        .cart-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 3.5rem 1.5rem;
            border-radius: 1.5rem;
            border: 1px dashed rgba(46, 92, 68, 0.2);
            background: rgba(255, 255, 255, 0.85);
            text-align: center;
            color: var(--gg-muted);
        }

        .cart-empty-icon {
            font-size: 2.5rem;
            opacity: 0.5;
        }

        .cart-empty p {
            max-width: 280px;
            line-height: 1.5;
        }

        .dark .cart-empty {
            background: rgba(30, 36, 33, 0.72);
            border-color: rgba(148, 163, 145, 0.24);
            color: rgba(226, 236, 228, 0.72);
        }

        .dark .cart-empty-icon {
            opacity: 0.65;
        }

        .cart-count-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            min-width: 22px;
            height: 22px;
            padding: 0 0.35rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 999px;
            background: var(--gg-secondary);
            color: #1f1f1f;
            font-size: 0.7rem;
            font-weight: 700;
            border: 2px solid rgba(255, 255, 255, 0.92);
            box-shadow: 0 12px 26px -16px rgba(46, 92, 68, 0.75);
            pointer-events: none;
        }

        .dark .cart-count-badge {
            border-color: rgba(16, 20, 18, 0.75);
            color: rgba(31, 41, 39, 0.95);
        }

        .cart-count-pill {
            position: absolute;
            top: -8px;
            right: -18px;
            padding: 0.15rem 0.55rem;
            border-radius: 999px;
            background: rgba(212, 163, 115, 0.92);
            color: #1f1f1f;
            font-size: 0.68rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 20px -14px rgba(32, 27, 20, 0.65);
            pointer-events: none;
        }

        .dark .cart-count-pill {
            background: rgba(212, 163, 115, 0.85);
            border-color: rgba(24, 29, 26, 0.85);
            color: rgba(24, 20, 17, 0.95);
        }

        .cart-modal,
        .product-modal,
        .customer-form-modal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            padding: clamp(1.25rem, 2vw, 2rem);
            background: rgba(12, 18, 16, 0.72);
            backdrop-filter: blur(8px);
            z-index: 80;
        }

        .cart-modal.active,
        .product-modal.active,
        .customer-form-modal.active {
            display: flex;
        }

        .cart-content,
        .modal-content,
        .customer-form-content {
            width: min(640px, 100%);
            border-radius: 2rem;
            box-shadow: 0 28px 80px -40px rgba(12, 18, 16, 0.85);
            overflow: hidden;
        }

        .cart-content,
        .customer-form-content {
            display: flex;
            flex-direction: column;
            max-height: min(90vh, 960px);
        }

        .cart-content {
            position: relative;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.96), rgba(245, 242, 234, 0.92));
            border: 1px solid rgba(46, 92, 68, 0.18);
            backdrop-filter: blur(12px);
        }

        .cart-content::before,
        .cart-content::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            filter: blur(55px);
            opacity: 0.55;
            pointer-events: none;
        }

        .cart-content::before {
            top: -20%;
            right: -18%;
            width: 55%;
            height: 70%;
            background: radial-gradient(circle at center, rgba(46, 92, 68, 0.55), transparent 70%);
        }

        .cart-content::after {
            bottom: -26%;
            left: -12%;
            width: 50%;
            height: 60%;
            background: radial-gradient(circle at center, rgba(212, 163, 115, 0.45), transparent 65%);
        }

        .cart-content > * {
            position: relative;
            z-index: 1;
        }

        .modal-content,
        .customer-form-content {
            background: rgba(255, 255, 255, 0.98);
        }

        .dark .cart-content {
            background: linear-gradient(155deg, rgba(26, 32, 29, 0.96), rgba(24, 29, 26, 0.94));
            border-color: rgba(148, 163, 145, 0.18);
        }

        .dark .cart-content::before {
            background: radial-gradient(circle at center, rgba(82, 191, 134, 0.35), transparent 70%);
        }

        .dark .cart-content::after {
            background: radial-gradient(circle at center, rgba(212, 163, 115, 0.3), transparent 65%);
        }

        .cart-header,
        .cart-footer {
            padding: 1.75rem 2rem;
        }

        .cart-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 1rem;
            background: linear-gradient(135deg, rgba(46, 92, 68, 0.95), rgba(36, 71, 53, 0.92));
            border-bottom: 1px solid rgba(255, 255, 255, 0.12);
            color: #ffffff;
            box-shadow: inset 0 -1px 0 0 rgba(255, 255, 255, 0.08);
        }

        .cart-header-text {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            max-width: calc(100% - 60px);
        }

        .cart-header h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.65rem;
            color: #ffffff;
            letter-spacing: 0.01em;
        }

        .cart-header-subtitle {
            font-size: 0.85rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.72);
        }

        .cart-header .modal-close {
            border: 1px solid rgba(255, 255, 255, 0.35);
            background: rgba(255, 255, 255, 0.16);
            color: #ffffff;
            backdrop-filter: blur(6px);
            align-self: flex-start;
        }

        .cart-header .modal-close:hover {
            background: #ffffff;
            color: var(--gg-primary);
        }

        .dark .cart-header .modal-close {
            border-color: rgba(255, 255, 255, 0.28);
            background: rgba(255, 255, 255, 0.12);
        }

        .dark .cart-header .modal-close:hover {
            background: rgba(255, 255, 255, 0.92);
        }

        .cart-footer {
            background: rgba(255, 255, 255, 0.72);
            border-top: 1px solid rgba(46, 92, 68, 0.12);
            backdrop-filter: blur(8px);
        }

        .modal-close-wrapper {
            position: absolute;
            top: calc(1.5rem + env(safe-area-inset-top, 0px));
            right: 1.5rem;
            z-index: 5;
            pointer-events: auto;
        }

        .modal-close {
            width: 42px;
            height: 42px;
            border-radius: 999px;
            border: 1px solid rgba(46, 92, 68, 0.25);
            background: rgba(255, 255, 255, 0.95);
            color: var(--gg-primary);
            font-size: 1.4rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.25s ease, background 0.25s ease, color 0.25s ease;
        }

        .modal-close:hover {
            background: var(--gg-primary);
            color: #ffffff;
            transform: rotate(90deg) scale(1.05);
        }

        .cart-body {
            padding: 1.75rem 2rem;
            overflow-y: auto;
            max-height: 55vh;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .cart-item {
            display: flex;
            gap: 1.1rem;
            padding: 1.15rem 1.3rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(46, 92, 68, 0.1);
            background: rgba(255, 255, 255, 0.92);
            box-shadow: 0 24px 48px -36px rgba(12, 18, 16, 0.65);
        }

        .cart-item-image {
            width: 78px;
            height: 78px;
            border-radius: 1rem;
            object-fit: cover;
            background: linear-gradient(135deg, rgba(46, 92, 68, 0.12), rgba(212, 163, 115, 0.16));
            border: 1px solid rgba(46, 92, 68, 0.12);
            box-shadow: 0 18px 36px -28px rgba(12, 18, 16, 0.8);
        }

        .dark .cart-item-image {
            border-color: rgba(148, 163, 145, 0.25);
            box-shadow: 0 18px 36px -30px rgba(0, 0, 0, 0.82);
        }

        .cart-item-name {
            font-weight: 700;
            color: var(--gg-primary);
        }

        .cart-item-price {
            font-size: 0.85rem;
            color: var(--gg-muted);
        }

        .cart-item-total {
            margin-left: auto;
            align-self: center;
            font-family: 'Playfair Display', serif;
            font-size: 1.15rem;
            min-width: 108px;
            text-align: right;
        }

        .cart-item-controls {
            margin-top: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.55rem;
        }

        .quantity-btn {
            width: 32px;
            height: 32px;
            border-radius: 999px;
            border: 1px solid rgba(46, 92, 68, 0.28);
            background: #ffffff;
            color: var(--gg-primary);
            font-weight: 700;
            cursor: pointer;
            transition: background 0.2s ease, color 0.2s ease;
        }

        .quantity-btn:hover {
            background: var(--gg-primary);
            color: #ffffff;
        }

        .quantity-display {
            font-weight: 700;
            color: var(--gg-primary);
            min-width: 28px;
            text-align: center;
        }

        .remove-item-btn {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--gg-danger);
            font-size: 1.2rem;
            cursor: pointer;
        }

        .cart-total {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 700;
            color: var(--gg-primary);
        }

        .cart-total span:first-child {
            font-size: 0.92rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: rgba(31, 41, 35, 0.65);
        }

        .cart-total span:last-child {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
        }

        .dark .cart-total span:first-child {
            color: rgba(234, 243, 236, 0.6);
        }

        .dark .cart-header {
            background: linear-gradient(135deg, rgba(16, 48, 32, 0.92), rgba(20, 53, 38, 0.9));
            border-bottom-color: rgba(255, 255, 255, 0.08);
            box-shadow: inset 0 -1px 0 0 rgba(255, 255, 255, 0.05);
        }

        .dark .cart-header-subtitle {
            color: rgba(255, 255, 255, 0.64);
        }

        .dark .cart-footer {
            background: rgba(20, 26, 23, 0.82);
            border-top-color: rgba(148, 163, 145, 0.2);
        }

        .dark .cart-item {
            background: rgba(30, 36, 33, 0.92);
            border-color: rgba(148, 163, 145, 0.18);
            box-shadow: 0 24px 48px -34px rgba(0, 0, 0, 0.78);
        }

        .dark .cart-item-name {
            color: #f5f7f4;
        }

        .dark .cart-item-price {
            color: rgba(226, 236, 228, 0.7);
        }

        .dark .quantity-btn {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(148, 163, 145, 0.28);
            color: #f5f7f4;
        }

        .dark .quantity-btn:hover {
            background: rgba(82, 191, 134, 0.8);
            color: #0f1a12;
        }

        .dark .cart-item-total,
        .dark .cart-total {
            color: #f5f7f4;
        }

        .confirm-order-btn {
            border: none;
            width: 100%;
            padding: 1rem 1.25rem;
            border-radius: 1rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            background: linear-gradient(135deg, var(--gg-primary), var(--gg-accent-hover));
            color: #ffffff;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            box-shadow: 0 18px 40px -24px rgba(46, 92, 68, 0.8);
        }

        .confirm-order-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 22px 48px -24px rgba(46, 92, 68, 0.85);
        }

        .customer-form-content {
            padding: 2.25rem 2.5rem;
            max-height: 88vh;
        }

        .customer-form-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--gg-primary);
            margin-bottom: 0.5rem;
        }

        .customer-form-content p {
            color: var(--gg-muted);
            margin-bottom: 1.75rem;
        }

        .form-group label {
            font-weight: 600;
            color: var(--gg-primary);
            margin-bottom: 0.45rem;
        }

        .form-group input,
        .form-group textarea {
            border-radius: 0.9rem;
            border: 1px solid rgba(46, 92, 68, 0.2);
            padding: 0.85rem 1rem;
            font-size: 0.95rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: rgba(46, 92, 68, 0.45);
            box-shadow: 0 0 0 3px rgba(46, 92, 68, 0.12);
        }

        .form-actions {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.75rem;
        }

        .btn-cancel,
        .btn-submit {
            border-radius: 0.9rem;
            padding: 0.85rem 1.15rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .btn-cancel {
            flex: 1;
            border: 1px solid rgba(46, 92, 68, 0.22);
            background: rgba(46, 92, 68, 0.05);
            color: var(--gg-primary);
        }

        .btn-cancel:hover {
            transform: translateY(-1px);
            box-shadow: 0 12px 24px -18px rgba(46, 92, 68, 0.6);
        }

        .btn-submit {
            flex: 2;
            border: none;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: #ffffff;
            box-shadow: 0 20px 48px -26px rgba(18, 140, 126, 0.75);
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 24px 60px -30px rgba(18, 140, 126, 0.85);
        }

        .btn-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .modal-content {
            position: relative;
            display: flex;
            flex-direction: column;
            width: min(920px, 100%);
            max-height: min(92vh, 960px);
            max-height: min(92dvh, 960px);
            border-radius: 2rem;
            background: linear-gradient(160deg, rgba(255, 255, 255, 0.98), rgba(245, 242, 234, 0.92));
            border: 1px solid rgba(46, 92, 68, 0.16);
            box-shadow: 0 32px 90px -42px rgba(12, 18, 16, 0.85);
            overflow: hidden;
        }

        .modal-content::before,
        .modal-content::after {
            content: '';
            position: absolute;
            border-radius: 999px;
            filter: blur(60px);
            opacity: 0.55;
            pointer-events: none;
        }

        .modal-content::before {
            top: -18%;
            right: -12%;
            width: 45%;
            height: 55%;
            background: radial-gradient(circle, rgba(46, 92, 68, 0.45), transparent 70%);
        }

        .modal-content::after {
            bottom: -24%;
            left: -10%;
            width: 52%;
            height: 60%;
            background: radial-gradient(circle, rgba(212, 163, 115, 0.4), transparent 68%);
        }

        .modal-body {
            position: relative;
            display: flex;
            gap: clamp(1.75rem, 5vw, 3.25rem);
            padding: clamp(2rem, 4.5vw, 3.5rem);
            flex: 1;
            overflow-y: auto;
            max-height: calc(92vh - 4.5rem);
            max-height: calc(92dvh - 4.5rem);
            overscroll-behavior: contain;
        }

        .modal-image {
            position: relative;
            flex: 0 0 clamp(320px, 36vw, 380px);
            height: clamp(320px, 48vh, 520px);
            border-radius: 1.5rem;
            background: linear-gradient(145deg, rgba(46, 92, 68, 0.1), rgba(212, 163, 115, 0.18));
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(46, 92, 68, 0.12);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35), 0 28px 60px -42px rgba(16, 24, 20, 0.85);
        }

        .modal-image::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0) 40%, rgba(19, 28, 24, 0.25));
            pointer-events: none;
        }

        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1.1rem;
            position: relative;
            z-index: 1;
        }

        .modal-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            align-items: center;
        }

        .modal-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.45rem 0.9rem;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            background: rgba(46, 92, 68, 0.1);
            color: var(--gg-primary);
        }

        .modal-chip.accent {
            background: rgba(212, 163, 115, 0.16);
            color: var(--gg-secondary);
        }

        .modal-chip.available {
            background: rgba(82, 191, 134, 0.14);
            color: #1b5a36;
        }

        .modal-chip.soldout {
            background: rgba(198, 93, 77, 0.18);
            color: #8f3e31;
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.9rem, 4.4vw, 2.7rem);
            color: var(--gg-primary);
            letter-spacing: -0.01em;
        }

        .modal-price-block {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.4rem;
            margin-top: 0.25rem;
        }

        .modal-price {
            font-size: clamp(2.2rem, 5.2vw, 3.1rem);
            font-weight: 800;
            color: var(--gg-secondary);
            line-height: 1;
        }

        .modal-price-caption {
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: rgba(31, 41, 35, 0.55);
        }

        .modal-description {
            color: rgba(17, 24, 21, 0.74);
            line-height: 1.75;
        }

        .modal-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.45rem 1.1rem;
            flex: 1;
            border-radius: 0.85rem;
            letter-spacing: 0.16em;
            background: rgba(82, 191, 134, 0.18);
            color: var(--gg-primary);
            font-weight: 700;
            font-size: 0.72rem;
        }

        .modal-highlights {
            display: grid;
            gap: 0.55rem;
            margin-top: 0.35rem;
            padding: 0;
            list-style: none;
        }

        .modal-highlights li {
            position: relative;
            padding-left: 1.35rem;
            color: rgba(17, 24, 21, 0.66);
            font-size: 0.92rem;
            line-height: 1.55;
        }

        .modal-highlights li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.55rem;
            width: 0.55rem;
            height: 0.55rem;
            border-radius: 999px;
            background: linear-gradient(135deg, var(--gg-primary), var(--gg-secondary));
            box-shadow: 0 6px 12px -4px rgba(46, 92, 68, 0.6);
        }

        .modal-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1.25rem;
        }

        .add-to-cart-modal-btn {
            flex: 1 1 220px;
            border: none;
            border-radius: 1rem;
            padding: 1rem 1.5rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            background: linear-gradient(135deg, var(--gg-primary), var(--gg-accent-hover));
            color: #ffffff;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            box-shadow: 0 24px 54px -30px rgba(46, 92, 68, 0.85);
        }

        .add-to-cart-modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 28px 68px -32px rgba(46, 92, 68, 0.88);
        }

        .add-to-cart-modal-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .modal-secondary-action {
            flex: 1 1 180px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem 1.4rem;
            border-radius: 1rem;
            border: 1px solid rgba(46, 92, 68, 0.24);
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--gg-primary);
            background: rgba(255, 255, 255, 0.85);
            transition: border-color 0.25s ease, transform 0.25s ease;
            text-decoration: none;
        }

        .modal-secondary-action:hover {
            border-color: rgba(46, 92, 68, 0.45);
            transform: translateY(-2px);
        }

        .dark .modal-content {
            background: linear-gradient(160deg, rgba(26, 32, 29, 0.96), rgba(24, 29, 26, 0.94));
            border-color: rgba(148, 163, 145, 0.2);
            box-shadow: 0 32px 90px -40px rgba(0, 0, 0, 0.8);
        }

        .dark .modal-content::before {
            background: radial-gradient(circle, rgba(82, 191, 134, 0.3), transparent 72%);
        }

        .dark .modal-content::after {
            background: radial-gradient(circle, rgba(212, 163, 115, 0.28), transparent 70%);
        }

        .dark .modal-image {
            background: linear-gradient(145deg, rgba(36, 53, 45, 0.55), rgba(52, 61, 57, 0.4));
            border-color: rgba(148, 163, 145, 0.25);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08), 0 28px 60px -38px rgba(0, 0, 0, 0.85);
        }

        .dark .modal-image::after {
            background: linear-gradient(180deg, rgba(0, 0, 0, 0) 35%, rgba(6, 12, 10, 0.45));
        }

        .dark .modal-badge {
            background: rgba(82, 191, 134, 0.28);
            color: #d5f3e1;
        }

        .dark .modal-chip:not(.soldout) {
            background: rgba(82, 191, 134, 0.18);
            color: #cfeedd;
        }

        .dark .modal-chip.accent {
            background: rgba(212, 163, 115, 0.24);
            color: #f0e2d3;
        }

        .dark .modal-chip.available {
            background: rgba(82, 191, 134, 0.25);
            color: #a1f0cc;
        }

        .dark .modal-chip.soldout {
            background: rgba(198, 93, 77, 0.25);
            color: #f2c3ba;
        }

        .dark .modal-title {
            color: #f5f7f4;
        }

        .dark .modal-price {
            color: #cde7d4;
        }

        .dark .modal-price-caption {
            color: rgba(234, 243, 236, 0.6);
        }

        .dark .modal-description {
            color: rgba(220, 230, 223, 0.75);
        }

        .dark .modal-highlights li {
            color: rgba(214, 226, 219, 0.75);
        }

        .dark .modal-highlights li::before {
            box-shadow: 0 6px 12px -4px rgba(82, 191, 134, 0.55);
        }

        .dark .modal-secondary-action {
            border-color: rgba(148, 163, 145, 0.3);
            background: rgba(30, 36, 33, 0.75);
            color: #ecf5ee;
        }

        .dark .modal-secondary-action:hover {
            border-color: rgba(148, 163, 145, 0.5);
        }

        @media (max-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .new-products-section {
                padding: 2rem 1.5rem;
            }

            .new-products-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .carousel-item {
                flex: 0 0 200px;
            }

            .product-image-container {
                height: 240px;
            }

            .product-modal {
                align-items: flex-start;
                padding: 1.1rem;
            }

            .modal-content {
                width: 100%;
                max-height: calc(100vh - 1.5rem);
                max-height: calc(100dvh - 1.5rem);
                border-radius: 1.5rem;
                overflow-y: auto;
            }

            .modal-body {
                display: block;
                padding: clamp(1.75rem, 6vw, 2.4rem);
                max-height: calc(100vh - 4.5rem);
                max-height: calc(100dvh - 4.5rem);
            }

            .modal-image {
                margin-bottom: 1.5rem;
            }

            .product-item-action {
                display: none;
            }

            .modal-image {
                width: 100%;
                flex: unset;
                height: clamp(260px, 52vw, 360px);
            }

            .cart-body {
                max-height: 48vh;
            }
        }

        @media (max-width: 520px) {
            .products-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
                gap: 1.1rem;
            }

            .cart-content,
            .customer-form-content,
            .modal-content {
                border-radius: 1.5rem;
            }

            .modal-close-wrapper {
                top: calc(0.85rem + env(safe-area-inset-top, 0px));
                right: 0.85rem;
            }

            .modal-body {
                padding: clamp(1.5rem, 7vw, 2rem);
                max-height: calc(100vh - 4rem);
                max-height: calc(100dvh - 4rem);
            }

            .cart-body,
            .cart-header,
            .cart-footer,
            .customer-form-content {
                padding: 1.3rem 1.4rem;
            }

            .cart-body {
                max-height: 42vh;
            }

            .category-title::after {
                width: 48px;
            }
        }

        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }

        .material-symbols-outlined.filled-icon {
            font-variation-settings:
                'FILL' 1,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark font-sans min-h-screen pb-32 transition-colors duration-300">
    <div id="top" class="flex flex-col min-h-screen">
        <header class="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-xl border-b border-white/20 dark:border-white/5">
            <div class="mx-auto flex w-full max-w-6xl items-center justify-between px-4 py-4 md:px-8">
                <div class="flex items-center gap-3">
                    <img src="image.png" alt="Go Green" class="h-10 w-10 rounded-full border border-white/40 object-cover shadow-md shadow-primary/40 dark:border-white/10"/>
                    <div class="flex flex-col">
                        <span class="font-display text-2xl font-semibold tracking-tight text-primary dark:text-green-300">Go Green</span>
                        <span class="text-xs font-medium uppercase tracking-[0.4em] text-primary/60 dark:text-white/40">Moda Circular</span>
                    </div>
                </div>
                <div class="flex items-center gap-3 text-gray-500 dark:text-gray-300">
                    <button type="button" class="rounded-full p-2 transition hover:bg-white/70 hover:text-primary dark:hover:bg-white/10" onclick="focusSearchBar()" aria-label="Buscar en el catálogo">
                        <span class="material-symbols-outlined">search</span>
                    </button>
                    <button type="button" class="relative rounded-full p-2 transition hover:bg-white/70 hover:text-primary dark:hover:bg-white/10" onclick="openCartModal()" aria-label="Ver carrito">
                        <span class="material-symbols-outlined">shopping_bag</span>
                        <span class="cart-count-badge hidden" data-cart-count data-hide-when-empty="true" aria-live="polite">0</span>
                    </button>
                </div>
            </div>
        </header>

        <main class="flex-1 space-y-12 px-4 pb-32 pt-8 md:px-8 lg:px-12">
            <section class="relative overflow-hidden rounded-3xl shadow-float">
                <div class="absolute inset-0 bg-primary/90 mix-blend-multiply transition-opacity duration-500"></div>
                <img src="portada.png" alt="Portada Go Green" class="absolute inset-0 h-full w-full object-cover opacity-80 transition duration-700"/>
                <div class="relative z-10 flex min-h-[420px] flex-col justify-end gap-6 p-8 text-white md:h-[420px] md:p-12">
                    <span class="inline-flex w-max items-center gap-2 rounded-full border border-white/40 bg-white/20 px-3 py-1 text-xs font-semibold uppercase tracking-[0.6em] backdrop-blur">
                        Colección Verano
                    </span>
                    <h1 class="font-display text-5xl font-bold leading-tight drop-shadow-sm md:text-6xl">
                        Moda Circular <span class="block font-light italic text-secondary">Consciente</span>
                    </h1>
                    <p class="max-w-xl font-light text-white/80">
                        Renueva tu estilo con impacto positivo. Piezas únicas recuperadas y curadas con amor por el planeta.
                    </p>
                    <div class="flex flex-wrap items-center gap-4">
                        <button class="group inline-flex items-center gap-2 rounded-xl bg-white px-6 py-3 font-semibold text-primary shadow-lg shadow-primary/30 transition hover:bg-secondary hover:text-white" onclick="document.getElementById('catalog-anchor').scrollIntoView({ behavior: 'smooth' })">
                            Explorar Ahora
                            <span class="material-symbols-outlined text-lg transition group-hover:translate-x-1">arrow_forward</span>
                        </button>
                        <a href="https://api.whatsapp.com/send?phone=573227781179" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-xl border border-white/60 px-6 py-3 font-semibold text-white transition hover:bg-white/20">
                            <span class="material-symbols-outlined text-lg">support_agent</span>
                            Asesoría Eco-Friendly
                        </a>
                    </div>
                </div>
                <div class="pointer-events-none absolute -right-12 -top-8 h-48 w-48 rounded-full bg-secondary/30 blur-3xl"></div>
            </section>

            <section class="-mt-10 md:-mt-16">
                <div class="search-bar">
                    <input id="search-input" type="text" placeholder="Buscar prenda sustentable..." onkeyup="searchCatalog()" oninput="searchCatalog()"/>
                </div>
            </section>

            <section id="catalog-anchor" class="space-y-6">
                <div class="flex flex-wrap items-center justify-between gap-3">
                    <div>
                        <h2 class="font-display text-3xl font-semibold text-primary dark:text-white">Categorías</h2>
                        <p class="text-sm text-primary/70 dark:text-white/60">Explora por tipo de prenda o material recuperado.</p>
                    </div>
                    <a href="#catalog-anchor" class="text-sm font-semibold text-primary transition hover:underline dark:text-green-300">Ver todo</a>
                </div>
                <div class="category-filter"></div>
            </section>

            <section id="new-products-section">
                <div id="new-products-carousel"></div>
            </section>

            <section class="space-y-6">
                <div class="flex items-end gap-2">
                    <span class="text-2xl">✨</span>
                    <h2 class="font-display text-3xl font-semibold text-primary dark:text-white">
                        Recién Recuperados
                    </h2>
                </div>
                <div id="catalog-content" class="space-y-12"></div>
            </section>

            <section class="relative overflow-hidden rounded-3xl bg-secondary/10 p-8 text-center shadow-soft dark:bg-secondary/5">
                <div class="pointer-events-none absolute -right-10 -top-10 h-32 w-32 rounded-full bg-primary/20 blur-3xl"></div>
                <div class="pointer-events-none absolute -left-16 -bottom-14 h-44 w-44 rounded-full bg-secondary/20 blur-3xl"></div>
                <div class="relative z-10 mx-auto max-w-2xl space-y-4">
                    <h3 class="font-display text-2xl font-semibold text-primary dark:text-white">
                        Únete a nuestra difusión en WhatsApp
                    </h3>
                    <p class="text-sm text-primary/70 dark:text-white/70">
                        Recibe lanzamientos exclusivos, alertas de colecciones y tips para vivir la moda circular. Sé parte del círculo que impulsa el cambio antes que nadie.
                    </p>
                    <button class="w-full rounded-xl border border-primary px-6 py-3 font-semibold text-primary transition hover:bg-primary hover:text-white dark:border-green-300 dark:text-green-300 dark:hover:bg-green-300 dark:hover:text-black" onclick="window.open('https://api.whatsapp.com/send?phone=573227781179&text=Hola%20Go%20Green,%20quiero%20unirme%20a%20la%20difusi%C3%B3n%20de%20WhatsApp.', '_blank')">
                        Sumarse a la difusión
                    </button>
                </div>
            </section>

            <section id="about-gogreen" class="relative overflow-hidden rounded-3xl border border-primary/10 bg-white/90 p-8 shadow-soft dark:border-white/10 dark:bg-card-dark/90">
                <div class="pointer-events-none absolute -left-20 top-0 h-40 w-40 rounded-full bg-primary/10 blur-3xl"></div>
                <div class="pointer-events-none absolute -right-16 bottom-0 h-52 w-52 rounded-full bg-secondary/15 blur-3xl"></div>
                <div class="relative z-10 grid gap-10 md:grid-cols-2">
                    <div class="space-y-5">
                        <span class="inline-flex items-center gap-2 rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.4em] text-primary dark:bg-white/10 dark:text-white">
                            Quiénes somos
                        </span>
                        <h3 class="font-display text-3xl font-semibold text-primary dark:text-white">
                            Go Green impulsa la moda circular en Latinoamérica
                        </h3>
                        <p class="text-sm leading-relaxed text-primary/80 dark:text-white/70">
                            Recolectamos, restauramos y curamos prendas de segunda vida para extender su uso y reducir residuos textiles. Cada colección se selecciona con criterios de calidad, impacto ambiental y estilo atemporal.
                        </p>
                        <ul class="space-y-3 text-sm text-primary/85 dark:text-white/70">
                            <li class="flex items-start gap-3">
                                <span class="material-symbols-outlined text-base text-secondary">compost</span>
                                <span>Procesos responsables que ahorran agua y energía frente a la producción tradicional.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="material-symbols-outlined text-base text-secondary">diversity_2</span>
                                <span>Red de emprendedoras locales que revalorizan textiles y generan ingresos sostenibles.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="material-symbols-outlined text-base text-secondary">sprout</span>
                                <span>Transparencia en materiales e impacto para que elijas piezas con propósito.</span>
                            </li>
                        </ul>
                    </div>
                    <div class="grid gap-4 rounded-3xl bg-primary/5 p-6 text-sm text-primary/90 shadow-inner dark:bg-white/5 dark:text-white/80">
                        <div>
                            <p class="text-4xl font-bold text-primary dark:text-green-200">+4.5k</p>
                            <p class="mt-1">Prendas recuperadas que volvieron a circular gracias a nuestra comunidad.</p>
                        </div>
                        <div class="border-t border-primary/20 pt-4 dark:border-white/20">
                            <p class="text-4xl font-bold text-primary dark:text-green-200">82%</p>
                            <p class="mt-1">Menos huella de carbono frente a una compra fast fashion equivalente.</p>
                        </div>
                        <div class="border-t border-primary/20 pt-4 dark:border-white/20">
                            <p class="text-4xl font-bold text-primary dark:text-green-200">12+</p>
                            <p class="mt-1">Aliados que apoyan programas de reciclaje textil y reinserción laboral.</p>
                        </div>
                        <a href="https://www.instagram.com" target="_blank" rel="noopener" class="mt-2 inline-flex items-center gap-2 font-semibold text-primary transition hover:gap-3 hover:text-secondary dark:text-green-200 dark:hover:text-secondary">
                            Conoce nuestras historias
                            <span class="material-symbols-outlined text-base">trending_flat</span>
                        </a>
                    </div>
                </div>
            </section>

        </main>

        <nav class="fixed bottom-0 left-0 right-0 z-40 rounded-t-3xl border-t border-white/40 bg-white/90 pb-safe pt-2 shadow-[0_-5px_24px_-12px_rgba(15,15,15,0.25)] backdrop-blur-lg dark:border-white/10 dark:bg-[#1A201D]/95">
            <div class="mx-auto flex max-w-md items-center justify-around px-3 pb-4">
                <a href="#top" class="flex flex-col items-center gap-1 text-primary">
                    <span class="material-symbols-outlined filled-icon">home</span>
                    <span class="text-[11px] font-semibold">Inicio</span>
                </a>
                <button type="button" class="flex flex-col items-center gap-1 text-gray-400 transition hover:text-primary dark:hover:text-green-300" onclick="openCartModal()">
                    <span class="relative flex items-center justify-center">
                        <span class="material-symbols-outlined">shopping_cart</span>
                        <span class="cart-count-pill hidden" data-cart-count data-hide-when-empty="true" aria-live="polite">0</span>
                    </span>
                    <span class="text-[11px] font-medium">Carrito de Compras</span>
                </button>
                <a href="#about-gogreen" class="flex flex-col items-center gap-1 text-gray-400 transition hover:text-primary dark:hover:text-green-300">
                    <span class="material-symbols-outlined">info</span>
                    <span class="text-[11px] font-medium">Sobre Nosotros</span>
                </a>
            </div>
        </nav>
    </div>

    <div class="cart-modal" id="cart-modal" onclick="closeModalOnBackdrop(event, 'cart-modal')">
        <div class="cart-content" onclick="event.stopPropagation()">
            <div class="cart-header">
                <div class="cart-header-text">
                    <h2>🛍️ Mi Carrito</h2>
                    <p class="cart-header-subtitle">Selecciona tus piezas favoritas sustentables.</p>
                </div>
                <button class="modal-close" type="button" onclick="closeCartModal()">×</button>
            </div>
            <div class="cart-body" id="cart-body"></div>
            <div class="cart-footer" id="cart-footer" style="display: none;">
                <div class="cart-total">
                    <span>Total</span>
                    <span id="cart-total">$0</span>
                </div>
                <button class="confirm-order-btn" onclick="confirmOrder()">✅ Confirmar Pedido</button>
            </div>
        </div>
    </div>

    <div class="customer-form-modal" id="customer-form-modal">
        <div class="customer-form-content">
            <h2>📋 Completa tus datos</h2>
            <p>Necesitamos tus datos para coordinar la entrega por WhatsApp.</p>
            <form id="customer-form" onsubmit="submitCustomerForm(event)">
                <div class="form-group">
                    <label for="customer-name">Nombre completo *</label>
                    <input type="text" id="customer-name" required placeholder="Ej: Juan Pérez"/>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Número de celular *</label>
                    <input type="tel" id="customer-phone" required placeholder="Ej: 3001234567" pattern="[0-9]{10}"/>
                    <small class="text-xs text-gray-500">Solo números, sin espacios ni guiones</small>
                </div>
                <div class="form-group">
                    <label for="customer-email">Correo electrónico</label>
                    <input type="email" id="customer-email" placeholder="Ej: correo@ejemplo.com"/>
                </div>
                <div class="form-group">
                    <label for="customer-address">Dirección de entrega *</label>
                    <textarea id="customer-address" required placeholder="Ej: Calle 123 #45-67, Apto 301, Bogotá"></textarea>
                </div>
                <div class="form-group">
                    <label for="customer-notes">Notas adicionales</label>
                    <textarea id="customer-notes" placeholder="Alguna indicación especial para tu pedido..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="closeCustomerForm()">Cancelar</button>
                    <button type="submit" class="btn-submit">💬 Enviar por WhatsApp</button>
                </div>
            </form>
        </div>
    </div>

    <div class="product-modal" id="product-modal" onclick="closeModalOnBackdrop(event, 'product-modal')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-close-wrapper">
                <button class="modal-close" type="button" onclick="closeProductModal()">×</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        let allProducts = [];
        let currentFilter = 'all';

        async function init() {
            await loadInitialData();
            await initializeDefaultData();
            allProducts = AppState.menuItems;
            renderNewProductsCarousel();
            renderCategoryButtons();
            renderCatalog();
        }

        function escapeAttribute(value) {
            return (value || '')
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/"/g, '&quot;');
        }

        function renderNewProductsCarousel() {
            const newProducts = [...allProducts]
                .sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0))
                .slice(0, 8);

            const wrapper = document.getElementById('new-products-carousel');

            if (newProducts.length === 0) {
                wrapper.style.display = 'none';
                return;
            }

            const duplicatedProducts = [...newProducts, ...newProducts];

            wrapper.innerHTML = `
                <div class="new-products-section">
                    <div class="new-products-header">
                        <h2>✨ Recién Llegados</h2>
                        <span class="new-badge-icon">NUEVO</span>
                    </div>
                    <div class="carousel-container">
                        <div class="carousel-track">
                            ${duplicatedProducts
                                .map(
                                    (item) => `
                                        <div class="carousel-item" onclick="openProductModal('${item.id}')">
                                            <div class="carousel-item-image">
                                                ${
                                                    item.image
                                                        ? `<img src="${item.image}" alt="${item.name}">`
                                                        : `<div style="display:flex;height:100%;width:100%;align-items:center;justify-content:center;font-size:60px;opacity:0.25;">👗</div>`
                                                }
                                                <div class="carousel-item-badge">NUEVO</div>
                                            </div>
                                            <div class="carousel-item-content">
                                                <div class="carousel-item-name">${item.name}</div>
                                                <div class="carousel-item-price">${Utils.formatCurrency(item.price)}</div>
                                            </div>
                                        </div>
                                    `,
                                )
                                .join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCategoryButtons() {
            const categories = [...new Set(allProducts.map((item) => item.category))];
            const container = document.querySelector('.category-filter');

            container.innerHTML = `
                <button class="category-btn ${currentFilter === 'all' ? 'active' : ''}" onclick="filterByCategory('all')">Todos</button>
                ${categories
                    .map(
                        (cat) => `
                            <button class="category-btn ${currentFilter === cat ? 'active' : ''}" onclick="filterByCategory('${cat}')">${cat}</button>
                        `,
                    )
                    .join('')}
            `;
        }

        function filterByCategory(category) {
            currentFilter = category;
            renderCategoryButtons();
            renderCatalog();
        }

        function searchCatalog() {
            renderCatalog();
        }

        function focusSearchBar() {
            const searchBar = document.querySelector('.search-bar');
            const searchInput = document.getElementById('search-input');

            if (!searchBar || !searchInput) {
                return;
            }

            searchBar.scrollIntoView({ behavior: 'smooth', block: 'center' });

            if (focusSearchBar._cleanup) {
                clearTimeout(focusSearchBar._cleanup);
            }

            searchBar.classList.add('highlight');

            const focusAction = () => {
                searchInput.focus();
                if (searchInput.value) {
                    searchInput.select();
                }
            };

            if (document.activeElement !== searchInput) {
                setTimeout(focusAction, 200);
            } else {
                focusAction();
            }

            focusSearchBar._cleanup = setTimeout(() => {
                searchBar.classList.remove('highlight');
            }, 1600);
        }

        function renderCatalog() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();

            let filteredItems = currentFilter === 'all' ? allProducts : allProducts.filter((item) => item.category === currentFilter);

            if (searchTerm) {
                filteredItems = filteredItems.filter(
                    (item) =>
                        item.name.toLowerCase().includes(searchTerm) ||
                        (item.description && item.description.toLowerCase().includes(searchTerm)),
                );
            }

            const itemsByCategory = {};
            filteredItems.forEach((item) => {
                if (!itemsByCategory[item.category]) {
                    itemsByCategory[item.category] = [];
                }
                itemsByCategory[item.category].push(item);
            });

            const container = document.getElementById('catalog-content');

            if (filteredItems.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">🔍</div>
                        <h3 class="text-xl font-semibold text-primary">No encontramos coincidencias</h3>
                        <p>Prueba con otra búsqueda o selecciona una categoría diferente.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = Object.keys(itemsByCategory)
                .map(
                    (category) => `
                        <div class="category-section">
                            <h2 class="category-title">${category}</h2>
                            <div class="products-grid">
                                ${itemsByCategory[category]
                                    .map(
                                        (item) => `
                                            <div class="product-item-card ${!item.available ? 'not-available' : ''}" data-product-id="${item.id}" role="button" tabindex="0" aria-label="Ver detalles de ${escapeAttribute(item.name)}">
                                                <div class="product-image-container">
                                                    ${
                                                        item.image
                                                            ? `<img src="${item.image}" alt="${item.name}">`
                                                            : `<div style="display:flex;height:100%;width:100%;align-items:center;justify-content:center;font-size:64px;opacity:0.25;">👗</div>`
                                                    }
                                                    ${item.isNew ? '<div class="product-badge">NUEVO</div>' : ''}
                                                </div>
                                                <div class="product-item-content">
                                                    <div class="product-item-name">
                                                        ${item.name}
                                                        ${!item.available ? '<span class="not-available-badge">Agotado</span>' : ''}
                                                    </div>
                                                    <div class="product-item-description">${item.description || 'Prenda eco-friendly de moda circular'}</div>
                                                    <div class="product-item-footer">
                                                        <div class="product-item-price">${Utils.formatCurrency(item.price)}</div>
                                                        ${item.available ? '<button class="product-item-action" type="button">Ver más</button>' : ''}
                                                    </div>
                                                </div>
                                            </div>
                                        `,
                                    )
                                    .join('')}
                            </div>
                        </div>
                    `,
                )
                .join('');

            activateProductCardInteractions();
        }

        init();

        const searchInputElement = document.getElementById('search-input');
        if (searchInputElement) {
            searchInputElement.addEventListener('blur', () => {
                const searchBar = searchInputElement.closest('.search-bar');
                if (searchBar) {
                    searchBar.classList.remove('highlight');
                }
            });
        }

        function activateProductCardInteractions() {
            const cards = document.querySelectorAll('.product-item-card[data-product-id]');

            cards.forEach((card) => {
                card.addEventListener('click', handleProductCardClick);
                card.addEventListener('keydown', handleProductCardKeydown);
            });

            const viewButtons = document.querySelectorAll('.product-item-action');
            viewButtons.forEach((button) => {
                button.addEventListener('click', handleProductViewMoreClick);
            });
        }

        function handleProductCardClick(event) {
            if (event.target.closest('.product-item-action')) {
                return;
            }

            const productId = event.currentTarget.dataset.productId;
            if (productId) {
                openProductModal(productId);
            }
        }

        function handleProductCardKeydown(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                const productId = event.currentTarget.dataset.productId;
                if (productId) {
                    openProductModal(productId);
                }
            }
        }

        function handleProductViewMoreClick(event) {
            event.stopPropagation();
            const card = event.currentTarget.closest('.product-item-card');
            const productId = card?.dataset.productId;

            if (productId) {
                openProductModal(productId);
            }
        }

        let cart = [];
        updateCartUI();

        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const countIndicators = document.querySelectorAll('[data-cart-count]');

            countIndicators.forEach((indicator) => {
                indicator.textContent = totalItems;
                if (indicator.dataset.hideWhenEmpty === 'true') {
                    indicator.classList.toggle('hidden', totalItems === 0);
                }
            });
        }

        function addToCart(productId) {
            const product = allProducts.find((p) => p.id === productId);
            if (!product || !product.available) return;

            const existingItem = cart.find((item) => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    quantity: 1,
                });
            }

            updateCartUI();
            closeProductModal();
        }

        function removeFromCart(productId) {
            cart = cart.filter((item) => item.id !== productId);
            updateCartUI();
            renderCart();
        }

        function updateQuantity(productId, change) {
            const item = cart.find((i) => i.id === productId);
            if (!item) return;

            item.quantity += change;

            if (item.quantity <= 0) {
                removeFromCart(productId);
            } else {
                updateCartUI();
                renderCart();
            }
        }

        function calculateTotal() {
            return cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        }

        function openCartModal() {
            renderCart();
            document.getElementById('cart-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeCartModal() {
            document.getElementById('cart-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function renderCart() {
            const body = document.getElementById('cart-body');
            const footer = document.getElementById('cart-footer');
            const totalElement = document.getElementById('cart-total');

            if (cart.length === 0) {
                body.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">🛍️</div>
                        <p>Descubre piezas únicas y añádelas a tu carrito.</p>
                    </div>
                `;
                footer.style.display = 'none';
                return;
            }

            body.innerHTML = cart
                .map(
                    (item) => `
                        <div class="cart-item">
                            ${
                                item.image
                                    ? `<img src="${item.image}" alt="${item.name}" class="cart-item-image">`
                                    : `<div class="cart-item-image" style="display:flex;align-items:center;justify-content:center;font-size:40px;opacity:0.25;">👗</div>`
                            }
                            <div class="flex flex-1 flex-col">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-price">${Utils.formatCurrency(item.price)} c/u</div>
                                <div class="cart-item-controls">
                                    <button class="quantity-btn" onclick="updateQuantity('${item.id}', -1)">-</button>
                                    <span class="quantity-display">${item.quantity}</span>
                                    <button class="quantity-btn" onclick="updateQuantity('${item.id}', 1)">+</button>
                                    <button class="remove-item-btn" onclick="removeFromCart('${item.id}')" title="Eliminar">🗑️</button>
                                </div>
                            </div>
                            <div class="cart-item-total text-lg font-semibold text-primary">${Utils.formatCurrency(item.price * item.quantity)}</div>
                        </div>
                    `,
                )
                .join('');

            footer.style.display = 'block';
            totalElement.textContent = Utils.formatCurrency(calculateTotal());
        }

        async function confirmOrder() {
            if (cart.length === 0) return;

            closeCartModal();
            openCustomerForm();
        }

        function openCustomerForm() {
            document.getElementById('customer-form-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
            document.getElementById('customer-form').reset();
        }

        function closeCustomerForm() {
            document.getElementById('customer-form-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        async function submitCustomerForm(event) {
            event.preventDefault();

            const submitBtn = event.target.querySelector('.btn-submit');
            submitBtn.disabled = true;
            submitBtn.textContent = '⏳ Procesando...';

            try {
                const customerData = {
                    name: document.getElementById('customer-name').value.trim(),
                    phone: document.getElementById('customer-phone').value.trim(),
                    email: document.getElementById('customer-email').value.trim(),
                    address: document.getElementById('customer-address').value.trim(),
                    notes: document.getElementById('customer-notes').value.trim(),
                };

                const order = {
                    id: Utils.generateId(),
                    tableNumber: `Online - ${customerData.name}`,
                    items: cart.map((item) => ({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        quantity: item.quantity,
                        notes: '',
                    })),
                    total: calculateTotal(),
                    status: 'pending',
                    createdAt: new Date().toISOString(),
                    isTakeaway: true,
                    customerData,
                };

                AppState.orders.push(order);
                await API.save('orders', AppState.orders);

                const whatsappMessage = generateWhatsAppMessage(customerData, cart, calculateTotal());
                const whatsappNumber = '573227781179';
                const whatsappURL = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodeURIComponent(whatsappMessage)}&type=phone_number&app_absent=0`;

                cart = [];
                updateCartUI();
                closeCustomerForm();

                window.open(whatsappURL, '_blank');

                setTimeout(() => {
                    alert('✅ ¡Pedido registrado!\n\nTe contactaremos por WhatsApp para finalizar tu compra.');
                }, 400);
            } catch (error) {
                console.error('Error procesando pedido:', error);
                alert('❌ Error al procesar el pedido. Inténtalo de nuevo.');
                submitBtn.disabled = false;
                submitBtn.textContent = '💬 Enviar por WhatsApp';
                return;
            }

            submitBtn.disabled = false;
            submitBtn.textContent = '💬 Enviar por WhatsApp';
        }

        function generateWhatsAppMessage(customer, cartItems, total) {
            let message = `👋 Hola, soy *${customer.name}*\n\n`;
            message += `🛍️ *NUEVO PEDIDO - GO GREEN*\n`;
            message += `━━━━━━━━━━━━\n\n`;

            message += `*PRODUCTOS:*\n`;
            cartItems.forEach((item, index) => {
                message += `${index + 1}. ${item.name}\n`;
                message += `   • Cantidad: ${item.quantity}\n`;
                message += `   • Precio unit.: ${Utils.formatCurrency(item.price)}\n`;
                message += `   • Subtotal: ${Utils.formatCurrency(item.price * item.quantity)}\n\n`;
            });

            message += `━━━━━━━━━━━━\n`;
            message += `*TOTAL: ${Utils.formatCurrency(total)}*\n\n`;

            message += `📍 *DATOS DE ENTREGA:*\n`;
            message += `• Nombre: ${customer.name}\n`;
            message += `• Teléfono: ${customer.phone}\n`;
            if (customer.email) {
                message += `• Email: ${customer.email}\n`;
            }
            message += `• Dirección: ${customer.address}\n`;
            if (customer.notes) {
                message += `• Notas: ${customer.notes}\n`;
            }

            message += `\n🌿 *Go Green - Moda Circular*`;
            return message;
        }

        function openProductModal(productId) {
            const product = allProducts.find((p) => p.id === productId);
            if (!product) return;

            const modal = document.getElementById('product-modal');
            const modalBody = document.getElementById('modal-body');

            const availabilityLabel = product.available ? 'Disponible' : 'Agotado';
            const availabilityIcon = product.available ? 'task_alt' : 'block';
            const availabilityClass = product.available ? 'available' : 'soldout';
            const categoryLabel = product.category || 'Moda Circular';
            const whatsappText = encodeURIComponent(`Hola 👋, me interesa la prenda "${product.name}". ¿Podrían contarme más detalles?`);
            const whatsappURL = `https://api.whatsapp.com/send?phone=573227781179&text=${whatsappText}`;
            const primaryAction = product.available
                ? `<button class="add-to-cart-modal-btn" type="button" onclick="addToCart('${product.id}')">🛍️ Agregar al carrito</button>`
                : '<button class="add-to-cart-modal-btn" type="button" disabled>Agotado temporalmente</button>';

            modalBody.innerHTML = `
                <div class="modal-image">
                    ${
                        product.image
                            ? `<img src="${product.image}" alt="${product.name}">`
                            : '<div class="text-6xl opacity-30">👗</div>'
                    }
                </div>
                <div class="modal-details">
                    <div class="modal-meta">
                        ${product.isNew ? '<span class="modal-badge">✨ NUEVO HALLAZGO</span>' : ''}
                        <span class="modal-chip accent">
                            <span class="material-symbols-outlined text-sm">style</span>
                            ${categoryLabel}
                        </span>
                        <span class="modal-chip ${availabilityClass}">
                            <span class="material-symbols-outlined text-sm">${availabilityIcon}</span>
                            ${availabilityLabel}
                        </span>
                    </div>
                    <h2 class="modal-title">${product.name}</h2>
                    <div class="modal-price-block">
                        <span class="modal-price">${Utils.formatCurrency(product.price)}</span>
                        <span class="modal-price-caption">Incluye limpieza profesional y control de calidad</span>
                    </div>
                    <div class="modal-description">
                        ${
                            product.description ||
                            'Prenda de moda circular elaborada con procesos conscientes y materiales recuperados. Perfecta para un estilo auténtico y sostenible.'
                        }
                    </div>
                    <ul class="modal-highlights">
                        <li>Inspección de calidad y restauración realizada por el equipo Go Green.</li>
                        <li>Empaque reutilizable y envío compensado en carbono.</li>
                        <li>Compra segura con cambios fáciles dentro de los 7 días posteriores.</li>
                    </ul>
                    <div class="modal-actions">
                        ${primaryAction}
                        <a class="modal-secondary-action" href="${whatsappURL}" target="_blank" rel="noopener">
                            <span class="material-symbols-outlined text-base">chat</span>
                            Consultar por WhatsApp
                        </a>
                    </div>
                </div>
            `;

            const modalContent = modal.querySelector('.modal-content');

            const resetScrollPositions = () => {
                modalBody.scrollTop = 0;
                if (modalContent) {
                    modalContent.scrollTop = 0;
                }
                modal.scrollTop = 0;
            };

            resetScrollPositions();
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';

            requestAnimationFrame(resetScrollPositions);
        }

        function closeProductModal() {
            document.getElementById('product-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function closeModalOnBackdrop(event, modalId) {
            if (event.target.id === modalId) {
                if (modalId === 'product-modal') {
                    closeProductModal();
                } else if (modalId === 'cart-modal') {
                    closeCartModal();
                } else if (modalId === 'customer-form-modal') {
                    closeCustomerForm();
                }
            }
        }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                closeProductModal();
                closeCartModal();
                closeCustomerForm();
            }
        });
    </script>
</body>
</html>